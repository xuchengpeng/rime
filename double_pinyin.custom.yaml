patch:
  schema/name: 自然码双拼
  switches:
    - name: ascii_mode
      reset: 0
      states: [ 中文, 西文 ]
    - name: full_shape
      states: [ 半角, 全角 ]
    - name: traditionalization
      states: [ 汉字, 漢字 ]
    - name: ascii_punct
      states: [ 。，, ．， ]

  engine/translators/+:
    - table_translator@custom_phrase  # 自定义短语 custom_phrase_double.txt
    - table_translator@cn_en          # 中英混合词汇

  engine/filters/+:
    - simplifier@traditionalize  # 简繁切换

  # 主翻译器，拼音
  translator/+:
    dictionary: rime_ice          # 挂载词库 rime_ice.dict.yaml
    enable_word_completion: true  # 大于 4 音节的词条自动补全，librime > 1.11.2
    initial_quality: 1.2          # 拼音的权重应该比英文大
    prism: double_pinyin          # 多方案共用一个词库时，为避免冲突，需要用 prism 指定一个名字

  # 中英混合词汇
  cn_en:
    dictionary: ""
    user_dict: en_dicts/cn_en_double_pinyin
    db_class: stabledb
    enable_completion: true
    enable_sentence: false
    initial_quality: 0.5
    comment_format:   # 自定义提示码
      - xform/^.+$//  # 清空提示码

  # 自定义短语：custom_phrase_double.txt
  custom_phrase:
    dictionary: ""
    user_dict: custom_phrase_double  # 需要手动创建 custom_phrase_double.txt 文件
    db_class: stabledb        # 只读数据库，无法动态调频；设为 tabledb 可以动态调频
    enable_completion: false  # 补全提示
    enable_sentence: false    # 禁止造句
    initial_quality: 99       # custom_phrase 的权重应该比 pinyin 大

  # 简繁切换
  traditionalize:
    option_name: traditionalization  # 对应 switches 中的 name
    opencc_config: s2t.json          # s2t.json | s2hk.json | s2tw.json | s2twp.json （Rime 内置配置，在程序目录可找到）
    tips: none                       # 转换提示: all 都显示 | char 仅单字显示 | none 不显示。
    tags: [ abc, number, gregorian_to_lunar ]  # 限制在对应 tag，不对其他如反查的内容做简繁转换